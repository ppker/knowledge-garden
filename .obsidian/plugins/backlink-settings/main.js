/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var f=(n,e)=>{for(var i in e)l(n,i,{get:e[i],enumerable:!0})},k=(n,e,i,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of g(e))!m.call(n,o)&&o!==i&&l(n,o,{get:()=>e[o],enumerable:!(t=p(e,o))||t.enumerable});return n};var h=n=>k(l({},"__esModule",{value:!0}),n);var B={};f(B,{default:()=>s});module.exports=h(B);var r=require("obsidian");var w=require("obsidian"),v=require("obsidian"),y=require("obsidian"),P=require("obsidian"),O=require("obsidian");var a={AudioRecorder:"audio-recorder",Backlink:"backlink",Bookmarks:"bookmarks",Browser:"browser",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},c={AllProperties:"all-properties",Audio:"audio",Backlink:a.Backlink,Bookmarks:a.Bookmarks,Browser:"browser",BrowserHistory:"browser-history",Canvas:a.Canvas,Empty:"empty",FileExplorer:a.FileExplorer,FileProperties:"file-properties",Graph:a.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:a.OutgoingLink,Outline:a.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Tag:"tag",Video:"video"};var b={collapseResults:!1,showMoreContext:!1,sortOrder:"alphabetical"},s=class extends r.Plugin{async onload(){await this.loadSettings(),this.addSettingTab(new u(this.app,this)),this.registerEvent(this.app.workspace.on("layout-change",()=>{this.updateBacklinkComponents()}))}onunload(){}async loadSettings(){this.settings=Object.assign({},b,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async updateBacklinkComponents(){let i=document.querySelector("div.embedded-backlinks");if(!i||!i.offsetWidth||!i.offsetHeight)return;let t=await C(this.app);t!=null&&t.backlink&&d(t.backlink,this.settings);for(let o of this.app.workspace.getLeavesOfType(c.Markdown))o.view instanceof r.MarkdownView&&o.view.backlinks&&d(o.view.backlinks,this.settings)}},u=class extends r.PluginSettingTab{constructor(i,t){super(i,t);this.plugin=t}display(){let{containerEl:i}=this;i.empty(),new r.Setting(i).setName("Collapse results").setDesc("Automatically collapse backlink results.").addToggle(t=>t.setValue(this.plugin.settings.collapseResults).onChange(async o=>{this.plugin.settings.collapseResults=o,await this.plugin.saveSettings()})),new r.Setting(i).setName("Show more context").setDesc("Automatically show more context for backlink results.").addToggle(t=>t.setValue(this.plugin.settings.showMoreContext).onChange(async o=>{this.plugin.settings.showMoreContext=o,await this.plugin.saveSettings()})),new r.Setting(i).setName("Sort order").setDesc("Default sort order for backlink results.").addDropdown(t=>t.addOption("alphabetical","File name (A to Z)").addOption("alphabeticalReverse","File name (Z to A)").addOption("byModifiedTime","Modified time (new to old)").addOption("byModifiedTimeReverse","Modified time (old to new)").addOption("byCreatedTime","Created time (new to old)").addOption("byCreatedTimeReverse","Created time (old to new)").setValue(this.plugin.settings.sortOrder).onChange(async o=>{this.plugin.settings.sortOrder=o,await this.plugin.saveSettings()}))}};function d(n,e){n.setCollapseAll(e.collapseResults),n.setExtraContext(e.showMoreContext),n.setSortOrder(e.sortOrder)}async function C(n){let e=n.workspace.getLeavesOfType(c.Backlink)[0];if(e&&(await e.loadIfDeferred(),e.view))return e.view}

/* nosourcemap */